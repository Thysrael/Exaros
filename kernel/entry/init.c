#include <types.h>
#include <driver.h>

static inline void clearBSS()
{
    extern u64 bssStart[];
    extern u64 bssEnd[];
    for (u64 *i = bssStart; i < bssEnd; i++)
    {
        *i = 0;
    }
}

// the banner
char *banner =
    "\n\t\033[34mU\033[0m _____ \033[34mU\033[0m   __  __       _         ____        \033[34mU\033[0m  ___ \033[34mU\033[0m   ____     \n"
    "\t\033[34m\\\033[0m| ___\033[32m\"\033[0m|\033[34m/\033[0m   \\ \\/\033[32m\"\033[0m/   \033[34mU\033[0m  /\033[32m\"\033[0m\\  \033[34mU\033[0m  \033[34mU\033[0m |  _\033[32m\"\033[0m\\ \033[34mU\033[0m      \033[34m\\\033[0m/\033[32m\"\033[0m_ \\\033[34m/\033[0m  / __\033[32m\"\033[0m| \033[34mU\033[0m  \n"
    "\t |  _|\033[32m\"\033[0m     \033[34m/\033[0m\\  /\033[34m\\\033[0m    \033[34m\\\033[0m/ _ \\\033[34m/\033[0m    \033[34m\\\033[0m| |_) |\033[34m/\033[0m      | | | | \033[34m<\033[0m\\___ \\\033[34m/\033[0m   \n"
    "\t | |___    \033[34mU\033[0m /  \\ \033[34mU\033[0m   / ___ \\     |  _ <    \033[31m.-,\033[33m_\033[0m| |_| |  \033[34mU\033[0m___) |   \n"
    "\t |_____|    /_/\\_\\   /_/   \\_\\    |_| \\_\\    \033[31m\\_)\033[33m-\033[0m\\___/   |____/\033[33m>>\033[0m  \n"
    "\t \033[33m<<   >>  \033[31m,-,\033[33m>> \\\\\033[31m_\033[33m   \\\\    >>    //   \\\\\033[31m_\033[33m        \\\\      \033[31m)(  (__) \n"
    "\t(__) (__)  \\_)  (__) (__)  (__)  (__)  (__)      (__)    (__)\033[0m      \n\n";

void main(u64 hartId)
{
    clearBSS();
    printk(banner);
}